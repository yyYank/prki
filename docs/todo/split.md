# prki split - 実装状況

## 概要

変更を分割し、子ブランチ・子PRを作成するサブコマンド。

## 実装済み

- [x] 基本的な分割 (`prki split`)
- [x] 自動実行モード (`--auto`)
- [x] Draft PR作成 (`--draft`)
- [x] レビュアー指定 (`--reviewers`)
- [x] 分割戦略指定 (`--strategy`)
- [x] 子ブランチ作成・push・PR作成（`gh` CLI経由）

## 未実装

### `--parts` フラグ

フラグ自体が未定義。

**必要な作業:**
- `--parts <n>` フラグを追加する
- 指定した数に強制分割するロジックを実装する（現在はグループ数がファイル内容で自動決定される）

### `--unstaged` フラグ

フラグ自体が未定義。

**必要な作業:**
- `--unstaged` フラグを追加する
- ステージ前の変更を対象に子ブランチを作成する処理を実装する
- `git stash` 等を活用して未コミット変更を各ブランチに振り分ける

### 親PRへのサマリーコメント投稿

`split` 実行後、親PRに全体マップをコメントとして投稿する。レビュアーが迷わないよう全体像を提示する。

**投稿内容のイメージ:**
```
## 子PR分割完了

  ├─ #101 [Review] Infrastructure & Config
  ├─ #102 [Review] Core Business Logic
  └─ #103 [Review] Tests

推奨レビュー順: #101 → #102 → #103
```

**必要な作業:**
- `split` 完了後に `gh pr comment` で親PRへ投稿する
- 子PRの番号・タイトルをまとめてツリー表示する
- グループの依存関係（Infrastructure → Core → Tests の順）を推奨レビュー順として提示する

### 子PR本文に兄弟PRへのリンクを追加

各子PRの本文に、同じ分割から生まれた兄弟PRの一覧とリンクを含める。

**必要な作業:**
- `buildPRBody` に兄弟PR情報を渡せるよう引数を拡張する
- 全子PRの作成後にまとめて本文を更新する（`gh pr edit`）か、作成時に一覧を埋め込む
